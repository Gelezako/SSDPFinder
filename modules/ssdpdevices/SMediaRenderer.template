<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<head>
<!--- подгрузка css темы --->
<link rel="stylesheet" href="<#ROOTHTML#>bootstrap/css/bootstrap[#if "<#SETTINGS_THEME#>"=="dark"#]_dark[#endif#].min.css" type="text/css">
	<style>
		.string
		{
			float:left;
			width:400px;
		}
	   .container
	   {
			float:left;
			width:200px;
	   }
	   
	   .clear
	   {
			clear:both;
			margin-top:15px;
	   }

	   input[type="text"]
	   {
			width:180px;
	   }
	   
	   input[type="nameoffiles"]
	   {
			width:177px;
	   }
	   
	   select
	   {
			width:184px;
	   }
	</style>
</head>
<body>

	<div class="string" style="1px solid red;">
		<div name="selectDataType" class="container">
			<select size="1" name="selectType" onclick="selectServers();">
			<option disabled="" selected="" value=""> - Выберите тип файла - </option>
			<option value="Видео">Видео</option>
			<option value="Аудио">Аудио</option>
			<option value="Изображения">Изображения</option>
			</select>
		</div> 

		 <!--- поле ссылки для Сервера --->
		<div name="selectDataServer" class="container">
			<select disabled="disabled" size="1" name="selectServer" onchange="selectNames(); selectUrl();">
			<option disabled="" selected="" value=""> - Имя сервера - </option>
			</select>
		</div> 
	</div>
	<div class="string clear" style="1px solid red;">
		 <!--- поле ссылки для Названия файла -->
		<div name="selectDataName" class="container">
			<input size="14" id="selectedname" name="selectName" type="nameoffiles" list="names" onclick="selectNames();" oninput="selectUrl();" placeholder=" - Выберите файл - ">
		</div> 

		 <!--- поле ссылки для воспроизведения --->
		<div name="selectDataUrl" class="container">
			<input size="10" name="selectUrl" type="text" id="play_url" value="">
		</div>
	</div>

<br/><br/><br/>

<div name="buttons" style="float:left;">
<!--- кнопка воспроизведения урла --->
 <button onClick='ajaxSetGlobal("%.object_title%.playUrl", document.getElementById("play_url").value);' class="btn btn-custom"><span value="" title="Play" id="play" class="glyphicon glyphicon-play aligned"></span></button> 
  <!--- остальные кнопки--->
 <button onClick='ajaxSetGlobal("%.object_title%.pause_unpause", 1);' class="btn btn-custom"><span title="Pause" id="pause" class="glyphicon glyphicon-pause aligned"></span></button> 
 <button onclick='ajaxSetGlobal("%.object_title%.stop", 1);' class="btn btn-custom"><span title="Stop" id="stop" class="glyphicon glyphicon-stop aligned"></span></button> 
 <button onclick='ajaxSetGlobal("%.object_title%.mute_unmute", 1);' class="btn btn-custom"><span title="Mute" id="Mute" class="glyphicon glyphicon-volume-off aligned"></span></button> 
 <button onclick='ajaxSetGlobal("%.object_title%.mute_unmute", 0);' class="btn btn-custom"><span title="UnMute" id="UnMute" class="glyphicon glyphicon-volume-up aligned"></span></button>
 <!-- пока нереализовано
 <button onclick="Backward5('music.mp3','audio');" class="btn btn-custom"><span title="-5 seconds" id="-5second" class="glyphicon glyphicon-fast-backward aligned"></span></button> 
 <button onclick="Forward5('music.mp3','audio');" class="btn btn-custom"><span title="+5 seconds" id="+5second" class="glyphicon glyphicon-fast-forward aligned"></span></button> 
 <button onclick='ajaxSetGlobal("%.object_title%.previous", 1)' class="btn btn-custom"><span title="previous" id="previous" class="glyphicon glyphicon-chevron-left aligned"></span></button> 
 <button onclick='ajaxSetGlobal("%.object_title%.next", 1)' class="btn btn-custom"><span title="next" id="next" class="glyphicon glyphicon-chevron-right aligned"></span></button> 
 --> 
 
<!--- регулировка звука --->
<input type="range" onChange='ajaxSetGlobal("%.object_title%.volume", value);' value=%.volume%  min="0" max="100" step="5" ></input> 
</div>

<!--- скрипт формирования выпадающего списка --->         
<script type = "text/javascript">
 
 function selectServers(){
   var types = $('select[name="selectType"]').val();
    $.ajax({
            type: "POST",
            url: "/modules/ssdpdevices/medaiserver.urllist.php",
            data: {action: 'SERVERS', types: types },
            cache: false,
            success: function(responce){ $('div[name="selectDataServer"]').html(responce); }
            });
 };
 function selectNames(){
   var servers = $('select[name="selectServer"]').val();
   var types = $('select[name="selectType"]').val();
    $.ajax({
            type: "POST",
            url: "/modules/ssdpdevices/medaiserver.urllist.php",
            data: {action: 'NAMES', servers: servers, types: types},
            cache: false,
            success: function(responce){ $('input[name="selectName"]').html(responce); }
            });
 };
 
  function selectUrl(){
    var name = $('input[name="selectName"]').val();
    $.ajax({
            type: "POST",
            url: "/modules/ssdpdevices/medaiserver.urllist.php",
            data: {action: 'URL', name: name},
            cache: false,
            success: function(responce){ $('div[name="selectDataUrl"]').html(responce); }
            });
 };
</script>
</body>
</html>
